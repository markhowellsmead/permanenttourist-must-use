(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,s=window.wp.data,n=window.wp.i18n,i=e=>{let{props:t}=e;const{classNameBase:a,postId:s,pageData:n,imageSize:i}=t;return s&&n&&n?.featured_image?.media_details?.sizes[i]?.source_url?React.createElement("figure",{className:`${a}__figure`},React.createElement("img",{className:`${a}__image`,src:n.featured_image.media_details.sizes[i].source_url,alt:n.featured_image.alt_text||"",width:n.featured_image.media_details.sizes[i].width,height:n.featured_image.media_details.sizes[i].height})):React.createElement(React.Fragment,null)},l=JSON.parse('{"name":"sht/page-teaser-cover"}'),{name:c}=l,p=(0,e.getBlockDefaultClassName)(c);(0,e.registerBlockType)(c,{edit:e=>{const l=(0,t.useBlockProps)(),{attributes:c,setAttributes:r}=e,{imageSize:d,linkText:o,postId:g,style:m}=c,u=(e=>{const t={};if(e?.spacing?.blockGap)if(-1!==e.spacing.blockGap.indexOf("var:preset")){const a=e.spacing.blockGap.split("|")[2];t["--wp--style--block-gap"]="var(--wp--preset--spacing--"+a+")"}else t["--wp--style--block-gap"]=e.spacing.blockGap;return t})(m),_=(e=>{const t={};if(e?.spacing?.padding){if(e?.spacing?.padding?.top)if(-1!==e?.spacing?.padding?.top.indexOf("var:preset")){const a=e.spacing.padding.top.split("|")[2];t.paddingTop="var(--wp--preset--spacing--"+a+")"}else t.paddingTop=e.spacing.padding.top;if(e?.spacing?.padding?.right)if(-1!==e?.spacing?.padding?.right.indexOf("var:preset")){const a=e.spacing.padding.right.split("|")[2];t.paddingRight="var(--wp--preset--spacing--"+a+")"}else t.paddingRight=e.spacing.padding.right;if(e?.spacing?.padding?.bottom)if(-1!==e?.spacing?.padding?.bottom.indexOf("var:preset")){const a=e.spacing.padding.bottom.split("|")[2];t.paddingBottom="var(--wp--preset--spacing--"+a+")"}else t.paddingBottom=e.spacing.padding.bottom;if(e?.spacing?.padding?.left)if(-1!==e?.spacing?.padding?.left.indexOf("var:preset")){const a=e.spacing.padding.left.split("|")[2];t.paddingLeft="var(--wp--preset--spacing--"+a+")"}else t.paddingLeft=e.spacing.padding.left}return t})(m),h=(0,s.useSelect)((e=>e("core").getEntityRecord("postType","page",g))),w=(0,s.useSelect)((e=>e("core/editor").getEditorSettings().imageSizes)),R=(0,s.useSelect)((e=>e("core").getEntityRecords("postType","page",{per_page:-1,order:"asc",orderby:"title"}))),f=[{label:"Select a page",value:0}];return R?.length&&R.forEach((e=>{f.push({label:e.title.rendered,value:e.id})})),React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,n._x)("Settings","Block settings","pt-must-use")},React.createElement(a.PanelRow,null,!R?.length&&React.createElement(a.Spinner,null),!!R?.length&&React.createElement(a.SelectControl,{label:(0,n._x)("Choose page","Block setting","pt-must-use"),value:g,options:f,onChange:e=>r({postId:e})})),!!w?.length&&React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,n._x)("Image size","Block setting","pt-must-use"),value:d,options:w.map((e=>({label:e.name,value:e.slug}))),onChange:e=>r({imageSize:e})})))),React.createElement("div",l,!g&&React.createElement("div",{className:"c-editormessage"},(0,n._x)("No page selected","Block placeholder","pt-must-use")),!!g&&!h&&React.createElement("div",{className:"c-editormessage"},React.createElement("div",{className:"c-editormessage__row"},React.createElement(a.Spinner,null),React.createElement("span",null,(0,n._x)("Loading page data...","Block placeholder","pt-must-use")))),h&&React.createElement("div",{className:`${p}__inner`,style:u},React.createElement("div",{className:`${p}__content`,style:_},React.createElement("h2",{className:`${p}__title`},h.title.rendered),h.excerpt.rendered&&React.createElement("div",{className:`${p}__excerpt`,dangerouslySetInnerHTML:{__html:h.excerpt.rendered}}),React.createElement("div",{className:`${p}__link-wrapper wp-block-button is-style-with-arrow-right has-smaller-font-size`},React.createElement(t.RichText,{placeholder:(0,n._x)("Add link textâ€¦","Block placeholder","pt-must-use"),tagName:"div",className:`${p}__link wp-block-button__link has-transparent-background-color has-background wp-element-button`,value:o,onChange:e=>r({linkText:e})}))),React.createElement(i,{props:{classNameBase:p,postId:g,pageData:h,imageSize:d}}))))}})})();