(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.data,s=window.wp.i18n,c=e=>{let{props:t}=e;const{classNameBase:a,postId:l,pageData:s,imageSize:c}=t;return l&&s&&s?.featured_image?.media_details?.sizes[c]?.source_url?React.createElement("figure",{className:`${a}__figure`},React.createElement("img",{className:`${a}__image`,src:s.featured_image.media_details.sizes[c].source_url,alt:s.featured_image.alt_text||"",width:s.featured_image.media_details.sizes[c].width,height:s.featured_image.media_details.sizes[c].height})):React.createElement(React.Fragment,null)},n=JSON.parse('{"name":"sht/page-teaser-cover"}'),{name:r}=n,i=(0,e.getBlockDefaultClassName)(r);(0,e.registerBlockType)(r,{edit:e=>{const n=(0,t.useBlockProps)(),{attributes:r,setAttributes:o}=e,{imageSize:p,linkText:m,postId:d,style:g}=r,u={};if(g?.spacing?.blockGap)if(-1!==g.spacing.blockGap.indexOf("var:preset")){const e=g.spacing.blockGap.split("|")[2];u["--wp--style--block-gap"]="var(--wp--preset--spacing--"+e+")"}else u["--wp--style--block-gap"]=g.spacing.blockGap;console.log(u);const _=(0,l.useSelect)((e=>e("core").getEntityRecord("postType","page",d))),R=(0,l.useSelect)((e=>e("core/editor").getEditorSettings().imageSizes)),w=(0,l.useSelect)((e=>e("core").getEntityRecords("postType","page",{per_page:-1,order:"asc",orderby:"title"}))),E=[{label:"Select a page",value:0}];return w?.length&&w.forEach((e=>{E.push({label:e.title.rendered,value:e.id})})),React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,s._x)("Settings","Block settings","pt-must-use")},React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,s._x)("Choose page","Block setting","pt-must-use"),value:d,options:E,onChange:e=>o({postId:e})})),!!R?.length&&React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,s._x)("Image size","Block setting","pt-must-use"),value:p,options:R.map((e=>({label:e.name,value:e.slug}))),onChange:e=>o({imageSize:e})})))),React.createElement("div",n,!d&&React.createElement("div",{className:"c-editormessage"},(0,s._x)("No page selected","Block placeholder","pt-must-use")),!!d&&!_&&React.createElement("div",{className:"c-editormessage"},React.createElement("div",{className:"c-editormessage__row"},React.createElement(a.Spinner,null),React.createElement("span",null,(0,s._x)("Loading page data...","Block placeholder","pt-must-use")))),_&&React.createElement("div",{className:`${i}__inner`,style:u},React.createElement("div",{className:`${i}__content`},React.createElement("h2",{className:`${i}__title`},_.title.rendered),_.excerpt.rendered&&React.createElement("div",{className:`${i}__excerpt`,dangerouslySetInnerHTML:{__html:_.excerpt.rendered}}),React.createElement("div",{className:`${i}__link-wrapper wp-block-button is-style-with-arrow-right has-smaller-font-size`},React.createElement(t.RichText,{placeholder:(0,s._x)("Add link textâ€¦","Block placeholder","pt-must-use"),tagName:"div",className:`${i}__link wp-block-button__link has-transparent-background-color has-background wp-element-button`,value:m,onChange:e=>o({linkText:e})}))),React.createElement(c,{props:{classNameBase:i,postId:d,pageData:_,imageSize:p}}))))}})})();