(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.data,s=window.wp.i18n,n=({postData:e,resolution:t="large",classNameBase:a="",className:l=""})=>{const s=React.createElement("figure",{className:`${l} ${a}__figure ${a}__figure--empty`});if(!e?.featured_image)return s;const{media_details:n}=e.featured_image;if(!n)return s;const c=n.sizes[t]?.source_url||n.sizes?.thumbnail?.source_url;return c?React.createElement("figure",{className:`${l} ${a}__figure`},React.createElement("img",{className:`${a}__image ${a}__image--${t}`,src:c,alt:n.alt_text||e.title.rendered})):s},c=JSON.parse('{"UU":"sht/primary-media"}'),{UU:r}=c,o=(0,e.getBlockDefaultClassName)(r);(0,e.registerBlockType)(r,{edit:e=>{const c=(0,t.useBlockProps)(),{attributes:r,setAttributes:i,context:m}=e,{hideInlineEmbed:u,resolution:p,className:d}=r,{postId:g,postType:_}=m;if(!m||!g||!_)return React.createElement("div",c,React.createElement("div",{className:`${d} ${o}__figure ${o}__figure--empty`},React.createElement("p",{dangerouslySetInnerHTML:{__html:(0,s._x)("The preview of this block only appears in a page or post context .","Block placeholder","pt-must-use")}})));const E=(0,l.useSelect)(e=>e("core").getEntityRecord("postType",_,g)),R=(0,l.useSelect)(e=>e("core/editor").getEditorSettings().imageSizes,[]);return React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,s._x)("Settings","Block settings","pt-must-use")},React.createElement(a.PanelRow,null,React.createElement(a.ToggleControl,{label:(0,s._x)("Hide inline embed","Block setting","pt-must-use"),checked:u,onChange:()=>{i({hideInlineEmbed:!u})}})),React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,s._x)("Image resolution","Block setting","pt-must-use"),value:p,options:R.map(e=>({label:e.name,value:e.slug})),onChange:e=>i({resolution:e})})))),React.createElement("div",c,React.createElement(n,{postData:E,resolution:p,className:d,classNameBase:o})))}})})();