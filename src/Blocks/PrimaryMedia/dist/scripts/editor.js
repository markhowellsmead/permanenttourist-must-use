(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.data,n=window.wp.i18n,s=({postData:e,resolution:t="large",classNameBase:a="",className:l=""})=>{const n=React.createElement("figure",{className:`${l} ${a}__figure ${a}__figure--empty`});if(!e?.featured_image)return n;const{media_details:s}=e.featured_image;if(!s)return n;const r=s.sizes[t]?.source_url||s.sizes?.thumbnail?.source_url;return r?React.createElement("figure",{className:`${l} ${a}__figure`},React.createElement("img",{className:`${a}__image ${a}__image--${t}`,src:r,alt:s.alt_text||e.title.rendered})):n},r=JSON.parse('{"name":"sht/primary-media"}'),{name:o}=r,c=(0,e.getBlockDefaultClassName)(o);(0,e.registerBlockType)(o,{edit:e=>{const r=(0,t.useBlockProps)(),{attributes:o,setAttributes:i,context:m}=e,{hideInlineEmbed:u,resolution:d,className:g}=o,{postId:p,postType:_}=m;if(!m||!p||!_)return React.createElement("div",r,React.createElement("div",{className:`${g} ${c}__figure ${c}__figure--empty`},React.createElement("p",{dangerouslySetInnerHTML:{__html:(0,n._x)("The preview of this block only appears in a page or post context .","Block placeholder","permanenttourist-must-use")}})));const E=(0,l.useSelect)((e=>e("core").getEntityRecord("postType",_,p))),R=(0,l.useSelect)((e=>e("core/editor").getEditorSettings().imageSizes),[]);return React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,n._x)("Settings","Block settings","textdomain")},React.createElement(a.PanelRow,null,React.createElement(a.ToggleControl,{label:(0,n._x)("Hide inline embed","Block setting","textdomain"),checked:u,onChange:()=>{i({hideInlineEmbed:!u})}})),React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,n._x)("Image resolution","Block setting","textdomain"),value:d,options:R.map((e=>({label:e.name,value:e.slug}))),onChange:e=>i({resolution:e})})))),React.createElement("div",r,React.createElement(s,{postData:E,resolution:d,className:g,classNameBase:c})))}})})();