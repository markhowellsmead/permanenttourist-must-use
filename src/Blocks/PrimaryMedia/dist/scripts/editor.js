(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.data,s=window.wp.i18n,n=e=>{let{postData:t,resolution:a="large",classNameBase:l="",className:s=""}=e;const n=React.createElement("figure",{className:`${s} ${l}__figure ${l}__figure--empty`});if(!t?.featured_image)return n;const{media_details:c}=t.featured_image;if(!c)return n;const r=c.sizes[a]?.source_url||c.sizes?.thumbnail?.source_url;return r?React.createElement("figure",{className:`${s} ${l}__figure`},React.createElement("img",{className:`${l}__image ${l}__image--${a}`,src:r,alt:c.alt_text||t.title.rendered})):n},c=JSON.parse('{"name":"sht/primary-media"}'),{name:r}=c,o=(0,e.getBlockDefaultClassName)(r);(0,e.registerBlockType)(r,{edit:e=>{const c=(0,t.useBlockProps)(),{attributes:r,setAttributes:i,context:m}=e,{hideInlineEmbed:u,resolution:p,className:d}=r,{postId:g,postType:_}=m;if(!m||!g||!_)return React.createElement("div",c,React.createElement("div",{className:`${d} ${o}__figure ${o}__figure--empty`},React.createElement("p",{dangerouslySetInnerHTML:{__html:(0,s._x)("The preview of this block only appears in a page or post context .","Block placeholder","pt-must-use")}})));const E=(0,l.useSelect)((e=>e("core").getEntityRecord("postType",_,g))),R=(0,l.useSelect)((e=>e("core/editor").getEditorSettings().imageSizes),[]);return React.createElement(React.Fragment,null,React.createElement(t.InspectorControls,null,React.createElement(a.PanelBody,{title:(0,s._x)("Settings","Block settings","pt-must-use")},React.createElement(a.PanelRow,null,React.createElement(a.ToggleControl,{label:(0,s._x)("Hide inline embed","Block setting","pt-must-use"),checked:u,onChange:()=>{i({hideInlineEmbed:!u})}})),React.createElement(a.PanelRow,null,React.createElement(a.SelectControl,{label:(0,s._x)("Image resolution","Block setting","pt-must-use"),value:p,options:R.map((e=>({label:e.name,value:e.slug}))),onChange:e=>i({resolution:e})})))),React.createElement("div",c,React.createElement(n,{postData:E,resolution:p,className:d,classNameBase:o})))}})})();