(()=>{const e=document.querySelectorAll(".wp-block-video video");e.length&&e.forEach(e=>{e.hasAttribute("poster")||((e,t)=>{const a=document.createElement("video");a.src=e,a.muted=!0,a.addEventListener("loadeddata",e=>{a.currentTime=20}),a.addEventListener("loadedmetadata",e=>{const t=a.duration;e.target.dataset.totalFrames=Math.floor(30*t)}),a.addEventListener("seeked",()=>{const e=document.createElement("canvas");e.width=a.videoWidth,e.height=a.videoHeight,e.getContext("2d").drawImage(a,0,0,e.width,e.height),t(e.toDataURL("image/jpeg"))}),a.load(),a.play()})(e.src,t=>{e.setAttribute("poster",t)})})})();