/*! For license information please see blocks.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var a;!function(){"use strict";var l={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)){if(a.length){var r=s.apply(null,a);r&&e.push(r)}}else if("object"===i){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var o in a)l.call(a,o)&&a[o]&&e.push(o)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a)}()}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=a.n(e);const l=window.wp.blocks;t()((()=>{(0,l.registerBlockStyle)("shb/video-bar",{name:"fullheight",label:"Full screen height"}),(0,l.registerBlockStyle)("core/button",{name:"xsmall",label:"x-small"}),(0,l.registerBlockStyle)("core/button",{name:"small",label:"Small"}),(0,l.registerBlockStyle)("core/button",{name:"medium",label:"Medium"}),(0,l.registerBlockStyle)("core/button",{name:"large",label:"Large"}),(0,l.registerBlockStyle)("core/image",{name:"webcam",label:"Webcam (3x2)"}),(0,l.registerBlockStyle)("core/image",{name:"16-9",label:"16x9"})})),(0,l.registerBlockVariation)("core/heading",{name:"sht/h1",title:"H1",attributes:{level:1}}),(0,l.registerBlockVariation)("core/heading",{name:"sht/h2",title:"H2",attributes:{level:2}}),(0,l.registerBlockVariation)("core/heading",{name:"sht/h3",title:"H3",attributes:{level:3}}),(0,l.registerBlockVariation)("core/heading",{name:"sht/h4",title:"H4",attributes:{level:4}}),(0,l.registerBlockVariation)("core/heading",{name:"sht/h5",title:"H5",attributes:{level:5}}),(0,l.registerBlockVariation)("core/heading",{name:"sht/h6",title:"H6",attributes:{level:6}});const s=window.wp.apiFetch;var i=a.n(s);const r=window.wp.data,o="sht/menu-positions",n={setEntries:e=>({type:"SET_ENTRIES",entries:e}),getEntries:e=>({type:"GET_ENTRIES",path:e})};(0,r.registerStore)(o,{reducer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entries:{}},t=arguments.length>1?arguments[1]:void 0;return"SET_ENTRIES"===t.type?{...e,entries:t.entries}:e},actions:n,selectors:{getEntries(e){const{entries:t}=e;return t}},controls:{GET_ENTRIES:e=>i()({path:e.path})},resolvers:{*getEntries(){const e=yield n.getEntries(`/${o}/`);return n.setEntries(e)}}});const c=window.wp.i18n,m=window.wp.components,u=window.wp.element;(0,l.registerBlockType)("mhm/albums",{title:(0,c._x)("Albums","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!0,reusable:!0},edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/albums"})}},save:()=>null}),(0,l.registerBlockType)("mhm/blog-cards",{title:(0,c._x)("Blog posts as cards","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!0,reusable:!0},keywords:["cards","posts","blog"],edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/blog-cards"})}},save:()=>null});const p=window.wp.blockEditor,d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full";return new Promise(((a,l)=>{wp.apiFetch({path:`/hello-roots/v1/lazy-image/${e}/?size=${t}`}).then((e=>{a(e)})).catch((e=>{console.log("reject",e),l(e)}))}))};class g extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{allowedTypes:e,attributes:t,attributeKey:a,imageFormat:l,setAttributes:s,objectFocalPoint:i}=this.props,r=e||["image"],o=a||"image",n=l||"full";let g={};i&&(g.objectPosition=`${100*i.x}% ${100*i.y}%`,i.x,i.y);const h=t[o];return React.createElement(u.Fragment,null,React.createElement("div",{className:"c-imageselector"},React.createElement(p.MediaUploadCheck,null,React.createElement(p.MediaUpload,{onSelect:e=>{d(e.id,n).then((e=>s({[o]:e})))},allowedTypes:r,value:h.id,render:e=>{let{open:t}=e;return React.createElement("figure",{className:"c-imageselector__figure "+(h.id?"":"c-imageselector__figure--noimage"),style:g},!!h.id&&React.createElement("img",{className:"c-imageselector__image",onClick:t,src:h.org[0],alt:h.alt,style:g}),React.createElement("div",{className:"c-imageselector__buttons"},!h.id&&React.createElement(m.Button,{onClick:t,isLarge:!0,isPrimary:!0},(0,c._x)("Bild auswählen","Admin component button text","sha")),!!h.id&&React.createElement(u.Fragment,null,React.createElement(m.Button,{onClick:t,isLarge:!0,isPrimary:!0},(0,c._x)("Bild ersetzen","Admin component button text","sha")),React.createElement(m.Button,{onClick:()=>s({[o]:{id:!1}}),isSmall:!0,isSecondary:!0},(0,c._x)("Bild entfernen","Admin component button text","sha")))))}}))))}}const h=e=>{let{classNameBase:t,image:a,focalPoint:l,lazy:s=!0}=e;if(!a.id)return"";const{org:i,srcset:r,attributes:o}=a,{width:n,height:c,alt:m}=o;let u={};return l&&(u.objectPosition=`${100*l.x}% ${100*l.y}%`),React.createElement("figure",{className:`${t}__figure`},React.createElement("img",{src:i[0],srcset:(e=>Object.entries(e).map((e=>{let[t,a]=e;return`${a} ${t}w`})).join(", "))(r),alt:m,className:`${t}__image`,width:n,height:c,loading:s?"lazy":"eager",style:u}))},{Component:b}=wp.element,{RichText:x}=wp.blockEditor,{_x:_}=wp.i18n;class y extends b{constructor(e){super(...arguments),this.props=e}render(){const{className:e,tagName:t,title:a,setAttributes:l}=this.props;let s=t||"h2",i=e||"c-block__title";return React.createElement(x,{tagName:s,format:"string",allowedFormats:[],formattingControls:[],placeholder:_("Add a title","Field placeholder","sha"),className:i,multiline:!1,value:a,keepPlaceholderOnFocus:!0,onChange:e=>{l({title:e.replace(/<\/?[^>]+(>|$)/g,"")})}})}}(0,l.registerBlockType)("mhm/bravo",{title:(0,c._x)("Bravo","Block title","sha"),icon:"layout",category:"widgets",keywords:[(0,c._x)("Bravo","Gutenberg block keyword","sha")],supports:{align:["wide","full"],html:!1,inserter:!0},styles:[{name:"default",label:(0,c._x)("Default","block style","sha"),isDefault:!0},{name:"flipped",label:(0,c._x)("Flipped","block style","sha")}],attributes:{title:{type:"string",default:""},text:{type:"string",default:""},image:{type:"Object",default:{id:!1}}},edit:class extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{attributes:e,setAttributes:t}=this.props;let a=(0,l.getBlockDefaultClassName)("mhm/bravo"),s=this.props.className;return e.image.id&&parseInt(e.image.attributes.width)<parseInt(e.image.attributes.height)&&(s+=` ${a}--tall`),[React.createElement("section",{className:s},React.createElement("div",{className:`${a}__inner`},React.createElement("div",{className:`${a}__content`},React.createElement("header",{className:`${a}__header`},React.createElement(y,{className:`${a}__title`,title:e.title,setAttributes:t})),React.createElement(p.RichText,{tagName:"div",className:`${a}__text`,allowedFormats:["core/link"],placeholder:(0,c._x)("Add text","","sha"),multiline:"p",value:e.text,keepPlaceholderOnFocus:!0,onChange:e=>{t({text:e})}})),React.createElement(g,{attributes:e,className:`${a}__figure`,image:e.image,setAttributes:t})))]}},save(e){let{attributes:t}=e,a=(0,l.getBlockDefaultClassName)("mhm/bravo");const s=(0,l.getBlockDefaultClassName)("mhm/bravo"),{focalPoint:i,image:r,text:o,title:n}=t;return r.id&&parseInt(r.attributes.width)<parseInt(r.attributes.height)&&(a+=` ${a}--tall`),React.createElement("section",{className:a},React.createElement("div",{className:`${s}__inner`},React.createElement("div",{className:`${s}__content`},React.createElement("header",{className:`${s}__header`},React.createElement(p.RichText.Content,{tagName:"h2",className:`${s}__title`,value:n})),!!o&&"<p></p>"!==o&&React.createElement(p.RichText.Content,{tagName:"div",className:`${s}__text`,value:o})),r&&r.id&&React.createElement(h,{classNameBase:s,image:r,focalPoint:i,lazy:!0})))}});const f=window.wp.hooks,v=e=>{let{attributes:t,setAttributes:a}=e;const{query:{orderBy:l}={}}=t;return React.createElement(m.SelectControl,{label:(0,c.__)("Order By","permanenttourist-must-use"),value:l,options:[{label:(0,c.__)("Date","permanenttourist-must-use"),value:"date"},{label:(0,c.__)("ID","permanenttourist-must-use"),value:"ID"}],onChange:e=>{a({query:{...t.query,orderBy:e}})}})};(0,f.addFilter)("editor.BlockEdit","core/query",(e=>t=>{const{attributes:a}=t;return"core/query"!==t.name||!1!==a?.query?.inherit?React.createElement(e,t):React.createElement(React.Fragment,null,React.createElement(e,t),React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:(0,c.__)("Additional Query Settings","permanenttourist-must-use")},React.createElement(v,t))))})),(0,l.registerBlockType)("mhm/count-posts",{title:(0,c._x)("Number of posts","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{mode:!1,html:!1,multiple:!0,reusable:!0},keywords:["count","posts"],edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/count-posts"})}},save:()=>null}),(0,l.registerBlockType)("mhm/count-photos",{title:(0,c._x)("Number of photos","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{mode:!1,html:!1,multiple:!0,reusable:!0},keywords:["count","photos"],edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/count-photos"})}},save:()=>null}),(0,l.registerBlockType)("mhm/footnotes",{title:(0,c.__)("Footnotes","sht"),icon:"list-view",category:"widgets",keywords:["Footnotes"],supports:{group:!1,mode:!1,html:!1,multiple:!1,reusable:!1},edit:class extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{className:e}=this.props;return React.createElement("div",{className:e},React.createElement(p.InnerBlocks,{allowedBlocks:["core/paragraph"],template:[["core/heading",{level:2,content:(0,c._x)("Footnotes","Default content","sht")}],["core/paragraph"]]}))}},save(){const e=(0,l.getBlockDefaultClassName)("mhm/footnotes");return React.createElement("div",{className:e},React.createElement(p.InnerBlocks.Content,null))}});var R=a(184),k=a.n(R);class w extends u.Component{constructor(e){super(...arguments),this.props=e,this.state={is_uploading:!1};const{attributes:t,setAttributes:a,imageAttribute:l,imageExternalURLAttribute:s,imageFormat:i,allowURL:r,accept:o,allowedTypes:n,labels:m}=this.props;this.accept_types=o||"image/*",this.allowed_types=n||["image"],this.allow_url=!!r,this.image_attribute_key=l||"image",this.image_format=i||"full",this.url_attribute_key=s||"imageExternalURL",this.labels_object=m||{},this.label_replace=this.labels_object.replace||(0,c._x)("Bild ersetzen","MediaFlow replace label","sha"),this.imageExternalURL_attribute=t[this.url_attribute_key],this.onSelectURL=null,r&&(this.onSelectURL=e=>{a({[this.image_attribute_key]:{id:!1},[this.url_attribute_key]:e}),this.setState({is_uploading:!1})}),this.onSelectURL&&(this.onSelectURL=this.onSelectURL.bind(this)),this.onSelect=this.onSelect.bind(this),this.onPreUpload=this.onPreUpload.bind(this),this.clearAttributeValues=this.clearAttributeValues.bind(this)}onSelect(e){const{setAttributes:t}=this.props;if(!e.id&&e.url)return 0===e.url.indexOf("blob:")?void t({[this.url_attribute_key]:""}):(t({[this.url_attribute_key]:e.url}),void this.setState({is_uploading:!1}));e.id&&d(e.id,this.image_format).then((e=>{t({[this.image_attribute_key]:e}),this.setState({is_uploading:!1})}))}onPreUpload(){this.clearAttributeValues(),this.setState({is_uploading:!0})}clearAttributeValues(){setAttributes({[this.url_attribute_key]:"",[this.image_attribute_key]:{id:!1}})}render(){const e=this.props.attributes[this.image_attribute_key],t=this.props.attributes[this.url_attribute_key];return React.createElement(u.Fragment,null,(!!e.id||!!t)&&!this.state.is_uploading&&React.createElement(p.BlockControls,null,React.createElement(m.Toolbar,null,React.createElement(p.MediaReplaceFlow,{name:this.label_replace,mediaId:e.id,mediaURL:this.imageExternalURL_attribute,accept:this.accept_types,allowedTypes:this.allowed_types,onFilesUpload:this.onPreUpload,onSelect:this.onSelect,onSelectURL:this.onSelectURL}))),!!this.state.is_uploading&&React.createElement(u.Fragment,null,React.createElement("p",null,(0,c._x)("Datei wird hochgeladen... bitte warten Sie...","Upload message","sha")),React.createElement(m.Spinner,null)),!e.id&&!t&&!this.state.is_uploading&&React.createElement("div",{className:"c-mediaselector c-mediaselector--image components-base-control components-lazy-image-selector"},React.createElement(p.MediaPlaceholder,{icon:"format-image",labels:this.labels_object,multiple:!1,onFilesPreUpload:this.onPreUpload,onSelect:this.onSelect,onSelectURL:this.onSelectURL,accept:this.accept_types,allowedTypes:this.allowed_types})))}}const E=[{label:"3 x 2",value:"is-aspect--3x2"},{label:"4 x 3",value:"is-aspect--4x3"},{label:"5 x 4",value:"is-aspect--5x4"},{label:"16 x 9",value:"is-aspect--16_9"},{label:"2.35:1",value:"is-aspect--235_10"},{label:"2.5:1",value:"is-aspect--25_10"},{label:"3:1",value:"is-aspect--3x1"},{label:"4:1",value:"is-aspect--4x1"},{label:"2 x 3",value:"is-aspect--2x3"},{label:"3 x 4",value:"is-aspect--3x4"},{label:"4 x 5",value:"is-aspect--4x5"}];class C extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{attributes:e,colors:t,setAttributes:a}=this.props,{figcaption:s,focalPoint:i,image:o,textOpacity:n,textColor:d,ratio:g,text_shadow:b}=e;let x=(0,l.getBlockDefaultClassName)("mhm/image"),_=x;const y=k()({[`${x}__figcaption`]:!0,[`${x}__figcaption--textshadow`]:b});o.id&&parseInt(o.attributes.width)<parseInt(o.attributes.height)&&(_+=` ${x}--tall`);let f=o.id?(0,r.select)("core").getMedia(o.id):null,v={opacity:n?n/100:0};return d&&(v.color=d),React.createElement(u.Fragment,null,React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:"Layout settings",initialOpen:!0},React.createElement(m.SelectControl,{label:"Select image proportions",value:g,options:E,onChange:e=>{a({ratio:e})}}),f&&f.media_details&&React.createElement(m.FocalPointPicker,{url:f.media_details.sizes.full.source_url,dimensions:{width:f.media_details.sizes.full.width,height:f.media_details.sizes.full.height},value:i,onChange:e=>a({focalPoint:e})})),React.createElement(m.PanelBody,{title:(0,c._x)("Colours","Domain Gutenberg Block Panel Title","sha"),initialOpen:!0},React.createElement("label",{class:"components-base-control__label"},(0,c._x)("Caption colour","Domain Gutenberg Block Panel Label","sha")),React.createElement(m.ColorPalette,{colors:t,value:d,onChange:e=>a({textColor:e})}),React.createElement(m.RangeControl,{label:(0,c._x)("Text transparency","Range control label","sha"),value:n,onChange:e=>a({textOpacity:e}),min:0,max:100}),React.createElement(m.ToggleControl,{label:(0,c._x)("Text shadow","ToggleControl label","sha"),help:b?(0,c._x)("Text shadow added.","Help text","sha"):(0,c._x)("Adds a text shadow to the image caption.","Help text","sha"),checked:b,onChange:e=>a({text_shadow:e})}))),React.createElement("section",{className:`${_} ${g}`},React.createElement(w,{attributes:e,setAttributes:a,allowedTypes:["image"],accept:"image",allowURL:!1,labels:{title:(0,c._x)("Select an image","MediaPlaceholder title","sha"),replace:(0,c._x)("Replace image","MediaPlaceholder instructions","sha")}}),!!o.id&&React.createElement(h,{classNameBase:x,image:o,focalPoint:i,lazy:!0}),React.createElement(p.RichText,{style:v,tagName:"figcaption",className:y,format:"string",allowedFormats:["core/link"],formattingControls:[],placeholder:(0,c._x)("Optional caption","Placeholder text","sha"),multiline:"br",value:s,keepPlaceholderOnFocus:!0,onChange:e=>{a({figcaption:e})}})))}}const B=(0,r.withSelect)(((e,t)=>{let a=[],l=e("core/editor").getEditorSettings().colors;return l&&l.map((e=>{a.push({color:e.color,name:e.name})})),{colors:a}}))(C),N={to:[{type:"block",blocks:["core/image"],transform:e=>{let{figcaption:t,image:a}=e;const s={};return t&&(s.caption=t),a&&a.org[0]&&(s.url=a.org[0],s.id=a.id),(0,l.createBlock)("core/image",s)}}]};(0,l.registerBlockType)("mhm/image",{title:(0,c._x)("Custom image block","Block title","sha"),icon:"format-image",category:"widgets",keywords:["image","gallery"],supports:{align:["wide","full"],html:!1,inserter:!0},attributes:{image:{type:"Object",default:{id:!1}},focalPoint:{type:"Object",default:{x:.5,y:.5}},ratio:{type:"string",default:"is-aspect--3x2"},figcaption:{type:"string",default:""},textColor:{type:"string",default:""},textOpacity:{type:"Number",default:100},text_shadow:{type:"boolean"}},transforms:N,edit:B,save(e){let{attributes:t}=e,a=(0,l.getBlockDefaultClassName)("mhm/image");const s=(0,l.getBlockDefaultClassName)("mhm/image"),{figcaption:i,focalPoint:r,image:o,textOpacity:n,textColor:c,ratio:m,text_shadow:u}=t,d=k()({[`${s}__figcaption`]:!0,[`${s}__figcaption--textshadow`]:u});o.id&&parseInt(o.attributes.width)<parseInt(o.attributes.height)&&(a+=` ${a}--tall`);let g={opacity:n?n/100:0};return c&&(g.color=c),React.createElement("section",{className:`${a} ${m}`},!!o.id&&React.createElement(h,{classNameBase:s,image:o,focalPoint:r,lazy:!0}),!!i&&React.createElement(p.RichText.Content,{style:g,tagName:"figcaption",className:d,value:i}))}});class S extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{allowedFormats:e,className:t,formattingControls:a,placeHolder:l,tagName:s,text:i,setAttributes:r}=this.props,o=e||["core/bold","core/italic","core/link"],n=s||"div",m=t||"c-block__text",u=(l||(0,c._x)("Add an excerpt in an alternative language…","Field placeholder","sha"),a||[]);return React.createElement(p.RichText,{tagName:n,className:m,format:"string",allowedFormats:o,formattingControls:u,placeholder:l,multiline:"br",value:i,keepPlaceholderOnFocus:!0,onChange:e=>{r({text:e})}})}}class P extends u.Component{render(){const{attributes:e,className:t,setAttributes:a}=this.props;return React.createElement(u.Fragment,null,React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:"Language settings",initialOpen:!0},React.createElement(m.SelectControl,{label:"Select excerpt language",value:e.lang,options:[{label:"English",value:"en"},{label:"German",value:"de"}],onChange:e=>{a({lang:e})}}))),React.createElement("section",{className:t},React.createElement(S,{text:e.text,setAttributes:a})))}}(0,l.registerBlockType)("mhm/language-excerpt",{title:(0,c._x)("Language excerpt","Block title","pt-must-use"),description:(0,c._x)("This block allows the provision of a text excerpt in an alternative language.","Block instructions","pt-must-use"),icon:"excerpt-view",category:"widgets",supports:{mode:!1,html:!1,multiple:!1,reusable:!1},attributes:{lang:{type:"string",default:"en"},text:{type:"string",default:""}},keywords:["excerpt","language"],edit:P,save(e){let{attributes:t}=e;const{lang:a,text:s}=t,i=(0,l.getBlockDefaultClassName)("mhm/language-excerpt");return React.createElement(u.Fragment,null,s&&React.createElement("section",{className:i,lang:a},React.createElement(p.RichText.Content,{value:s})))}});const T=window.wp.serverSideRender;var $=a.n(T);const F=window.wp.primitives,A=(0,u.createElement)(F.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,u.createElement)(F.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"})),O="sht/menu";(0,l.registerBlockType)(O,{title:(0,c._x)("Predefined menu","Block title","sha"),description:(0,c._x)("Adds a pre-defined navigation menu to the page.","Block title","sha"),icon:A,category:"common",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!0,reusable:!0,inserter:!0,typography:{fontSize:!0}},attributes:{menu:{type:"string"}},edit:(0,r.withSelect)((e=>{const t=e("sht/menu-positions").getEntries();if(!t||!Object.keys(t).length)return{menus:[]};let a=[{label:(0,c._x)("Keine Auswahl","Default selector label","sha"),value:""}];return t.map((e=>{a.push({value:e.id,label:e.title})})),{menus:a}}))((e=>{let{attributes:t,menus:a,setAttributes:l}=e;const{menu:s}=t;return[React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:(0,c._x)("Block-Optionen","PanelBody Title","sha"),initialOpen:!0},React.createElement(m.SelectControl,{label:(0,c._x)("Vordefinierte Navigation auswählen","Select control label","sha"),value:s,onChange:e=>l({menu:e}),options:a}))),React.createElement($(),{block:O,attributes:t})]}))});class I extends u.Component{render(){const{excerpt:e,className:t,attributes:a,setAttributes:l}=this.props;return e!==a.excerpt&&l({excerpt:e}),React.createElement("section",{className:t},e&&React.createElement("p",null,e),!e&&React.createElement("p",null,React.createElement("em",null,"This post has no excerpt.")))}}const D=(0,r.withSelect)((function(e){return{excerpt:e("core/editor").getEditedPostAttribute("excerpt")}}))(I);(0,l.registerBlockType)("mhm/post-excerpt",{title:(0,c._x)("Post excerpt","Block title","pt-must-use"),description:(0,c._x)("This block automatically shows the current post excerpt. There are no options for this block. Edit the post excerpt as usual.","Block instructions","pt-must-use"),icon:"excerpt-view",category:"widgets",supports:{mode:!1,html:!1,multiple:!1,reusable:!1},attributes:{excerpt:{type:"string",default:""}},keywords:["excerpt"],edit:D,save(e){let{attributes:t}=e;const{excerpt:a}=t,s=(0,l.getBlockDefaultClassName)("mhm/post-excerpt");return React.createElement(u.Fragment,null,a&&React.createElement("section",{className:s},a))}});class j extends u.Component{render(){const{attributes:e,post_excerpt:t,post_title:a,setAttributes:l}=this.props,{alignment:s}=e;return React.createElement(u.Fragment,null,React.createElement(p.BlockControls,null,React.createElement(p.AlignmentToolbar,{value:s,onChange:e=>{l({alignment:void 0===e?"none":e})}})),React.createElement(m.ServerSideRender,{block:"sht/post-header",attributes:{alignment:e.alignment,post_title:a,post_excerpt:t}}))}}const z=(0,r.withSelect)((function(e){return{post_title:e("core/editor").getEditedPostAttribute("title"),post_excerpt:e("core/editor").getEditedPostAttribute("excerpt")}}))(j);(0,l.registerBlockType)("sht/post-header",{title:(0,c._x)("Post or Page Header","Block title","sha"),description:(0,c._x)("This block automatically shows the current post/page title and optional excerpt.","Block instructions","sha"),icon:"slides",category:"widgets",supports:{mode:!1,html:!1,multiple:!1,reusable:!1},attributes:{alignment:{type:"string",default:"center"},post_title:{type:"string",default:""},post_excerpt:{type:"string",default:""}},example:{attributes:{alignment:"center"}},keywords:[(0,c._x)("Excerpt"," Gutenberg block keyword","sha"),(0,c._x)("Title"," Gutenberg block keyword","sha"),(0,c._x)("Header"," Gutenberg block keyword","sha")],edit:z}),(0,l.registerBlockType)("mhm/project-grid",{title:(0,c.__)("Project grid","sht"),icon:"layout",category:"widgets",keywords:["grid"],supports:{align:["wide","full"],group:!1,mode:!1,html:!1,multiple:!0,reusable:!0},attributes:{align:{type:"string",default:"full"}},edit:class extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{className:e}=this.props;return React.createElement("div",{className:e},React.createElement(p.InnerBlocks,{allowedBlocks:["core/columns","mhm/project-header"],template:[["mhm/project-header"],["core/columns",{align:"full",className:"is-style-gapless"}]],templateLock:!1}))}},save(){const e=(0,l.getBlockDefaultClassName)("mhm/project-grid");return React.createElement("div",{className:e},React.createElement(p.InnerBlocks.Content,null))}});class L extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{attributes:e,colors:t,setAttributes:a}=this.props,{figcaption:s,focalPoint:i,image:o,ratio:n,textColor:d,textOpacity:h}=e;let b=(0,l.getBlockDefaultClassName)("mhm/project-header"),x=b,_=o.id?(0,r.select)("core").getMedia(o.id):null,y={opacity:h?h/100:0};return d&&(y.color=d),o.id&&parseInt(o.attributes.width)<parseInt(o.attributes.height)&&(x+=` ${b}--tall`),React.createElement(u.Fragment,null,_&&_.media_details&&React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:"Layout settings",initialOpen:!0},React.createElement(m.SelectControl,{label:"Select image proportions",value:n,options:[{label:"3 x 2",value:"is-aspect--3x2"},{label:"4 x 3",value:"is-aspect--4x3"},{label:"5 x 4",value:"is-aspect--5x4"},{label:"16 x 9",value:"is-aspect--16_9"},{label:"2.5:1",value:"is-aspect--25_10"},{label:"3:1",value:"is-aspect--3x1"},{label:"4:1",value:"is-aspect--4x1"},{label:"2 x 3",value:"is-aspect--2x3"},{label:"3 x 4",value:"is-aspect--3x4"},{label:"4 x 5",value:"is-aspect--4x5"}],onChange:e=>{a({ratio:e})}}),React.createElement(m.FocalPointPicker,{url:_.media_details.sizes.full.source_url,dimensions:{width:_.media_details.sizes.full.width,height:_.media_details.sizes.full.height},value:i,onChange:e=>a({focalPoint:e})})),React.createElement(m.PanelBody,{title:(0,c._x)("Colours","Domain Gutenberg Block Panel Title","sha"),initialOpen:!0},React.createElement("label",{class:"components-base-control__label"},(0,c._x)("Caption colour","Domain Gutenberg Block Panel Label","sha")),React.createElement(m.ColorPalette,{colors:t,value:d,onChange:e=>a({textColor:e})}),React.createElement(m.RangeControl,{label:(0,c._x)("Text transparency","Range control label","sha"),value:h,onChange:e=>a({textOpacity:e}),min:0,max:100}))),React.createElement("section",{className:`${x} ${n}`},React.createElement("div",{className:`${b}__inner`},React.createElement("div",{className:`${b}__content`},React.createElement(p.InnerBlocks,{allowedBlocks:["core/paragraph"],template:[["core/heading",{level:1}],["core/paragraph"]]})),React.createElement("div",{className:`${b}__figurewrap ${n}`},React.createElement(g,{attributes:e,className:`${b}__figure`,image:o,setAttributes:a,objectFocalPoint:i,admin:!0,imageFormat:"full_uncropped"}),React.createElement(p.RichText,{style:y,tagName:"figcaption",className:`${b}__figcaption`,format:"string",allowedFormats:["core/link"],formattingControls:[],placeholder:(0,c._x)("Optional caption","Placeholder text","sha"),multiline:"br",value:s,keepPlaceholderOnFocus:!0,onChange:e=>{a({figcaption:e})}})))))}}const U=(0,r.withSelect)(((e,t)=>{let a=[],l=e("core/editor").getEditorSettings().colors;return l&&l.map((e=>{a.push({color:e.color,name:e.name})})),{colors:a}}))(L);(0,l.registerBlockType)("mhm/project-header",{title:(0,c._x)("Project header","Block title","sha"),icon:"layout",category:"widgets",keywords:[(0,c._x)("Header","Gutenberg block keyword","sha")],supports:{align:["wide","full"],html:!1,inserter:!0,multiple:!1},styles:[{name:"default",label:(0,c._x)("Default","block style","sha"),isDefault:!0},{name:"flipped",label:(0,c._x)("Flipped","block style","sha")}],attributes:{align:{type:"string",default:"full"},focalPoint:{type:"Object",default:{x:.5,y:.5}},image:{type:"Object",default:{id:!1}},ratio:{type:"string",default:"is-aspect--3x2"},figcaption:{type:"string",default:""},textColor:{type:"string",default:""},textOpacity:{type:"Number",default:100}},edit:U,save(e){let{attributes:t}=e,a=(0,l.getBlockDefaultClassName)("mhm/project-header");const s=(0,l.getBlockDefaultClassName)("mhm/project-header");let i={opacity:t.textOpacity?t.textOpacity/100:0};return t.textColor&&(i.color=t.textColor),t.image.id&&parseInt(t.image.attributes.width)<parseInt(t.image.attributes.height)&&(a+=` ${a}--tall`),React.createElement("section",{className:a},React.createElement("div",{className:`${s}__inner`},React.createElement("div",{className:`${s}__content`},React.createElement(p.InnerBlocks.Content,null)),!!t.image.id&&React.createElement("div",{className:`${s}__figurewrap ${t.ratio}`},React.createElement(h,{classNameBase:s,image:t.image,focalPoint:t.focalPoint,lazy:!0}),!!t.figcaption&&React.createElement(p.RichText.Content,{style:i,tagName:"figcaption",className:`${s}__figcaption`,value:t.figcaption}))))}}),(0,l.registerBlockType)("mhm/publication-date",{title:(0,c._x)("Publication date","Block title","sha"),icon:"calendar-alt",category:"widgets",supports:{align:["left","center"],mode:!1,html:!1,multiple:!1,reusable:!1},keywords:[],attributes:{align:{type:"string",default:""}},edit:class extends u.Component{render(){const{attributes:e}=this.props,{align:t}=e;return React.createElement(m.ServerSideRender,{block:"mhm/publication-date",attributes:{align:t}})}},save:()=>null});const V=(0,u.createElement)(F.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,u.createElement)(F.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"}));(0,l.registerBlockType)("sht/series-link",{title:(0,c._x)("Series link","Block title","sha"),description:(0,c._x)("Display a link if the current post is linked to a tag which is marked as a series.","Block title","sha"),icon:V,category:"common",supports:{align:!1,mode:!1,html:!1,multiple:!0,reusable:!0,inserter:!0,typography:{align:!0,fontSize:!0}},attributes:{textAlignment:{type:"string"}},edit:e=>{const{attributes:t,setAttributes:a}=e,{textAlignment:l}=t,s=null!==l?"has-text-align-"+l:"",i=(0,p.useBlockProps)({className:s});return React.createElement(React.Fragment,null,React.createElement(p.BlockControls,null,React.createElement(p.AlignmentToolbar,{value:t.textAlignment,onChange:e=>a({textAlignment:e})})),React.createElement("div",i,React.createElement("p",{dangerouslySetInnerHTML:{__html:"Series link block - there are no options for this block"}})))}}),(0,f.addFilter)("shb-video-bar-colors-to","pt-must-use.shb-video-bar-colors-to",(function(e){return"rgba(0,0,0,1)"})),(0,l.registerBlockType)("mhm/subpages",{title:(0,c._x)("Subpages","Block title","sha"),icon:"post",category:"widgets",supports:{align:["wide","full"]},edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/subpages"})}},save:()=>null}),(0,l.registerBlockType)("mhm/viewpoint-ancestors",{title:(0,c._x)("Viewpoint ancestors","Block title","sha"),icon:"layout",category:"widgets",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!0,reusable:!0},edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/viewpoint-ancestors"})}},save:()=>null}),(0,l.registerBlockType)("mhm/viewpoint-cards",{title:(0,c._x)("Viewpoints as cards","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!0,reusable:!0},keywords:["cards","posts","viewpoint"],edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/viewpoint-cards"})}},save:()=>null}),(0,l.registerBlockType)("mhm/viewpoint-descendants",{title:(0,c._x)("Viewpoint descendants","Block title","sha"),icon:"layout",category:"widgets",supports:{align:["wide","full"],mode:!1,html:!1,multiple:!1,reusable:!1},attributes:{viewpoint_type:{type:"string",default:"place"}},edit(e){let{attributes:t,setAttributes:a}=e;const{viewpoint_type:l}=t;return React.createElement(u.Fragment,null,React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:"Block options",initialOpen:!0},React.createElement(m.SelectControl,{label:"Select viewpoint type",value:l,options:[{label:"Country",value:"country"},{label:"Region",value:"region"},{label:"Place",value:"place",isDefault:!0}],onChange:e=>{a({viewpoint_type:e})}}))),React.createElement(m.ServerSideRender,{block:"mhm/viewpoint-descendants",attributes:t}))},save:()=>null});class H extends u.Component{constructor(e){super(...arguments),this.props=e}render(){const{attributes:e,colors:t,setAttributes:a}=this.props;let s=(0,l.getBlockDefaultClassName)("mhm/viewpoint-header"),i=s,o=e.image.id?(0,r.select)("core").getMedia(e.image.id):null,n={opacity:e.textOpacity?e.textOpacity/100:0};return e.textColor&&(n.color=e.textColor),e.image.id&&parseInt(e.image.attributes.width)<parseInt(e.image.attributes.height)&&(i+=` ${s}--tall`),React.createElement(u.Fragment,null,o&&o.media_details&&React.createElement(p.InspectorControls,null,React.createElement(m.PanelBody,{title:"Layout settings",initialOpen:!0},React.createElement(m.SelectControl,{label:"Select image proportions",value:e.ratio,options:[{label:"3 x 2",value:"is-aspect--3x2"},{label:"4 x 3",value:"is-aspect--4x3"},{label:"5 x 4",value:"is-aspect--5x4"},{label:"16 x 9",value:"is-aspect--16_9"},{label:"2.5:1",value:"is-aspect--25_10"},{label:"3:1",value:"is-aspect--3x1"},{label:"4:1",value:"is-aspect--4x1"},{label:"2 x 3",value:"is-aspect--2x3"},{label:"3 x 4",value:"is-aspect--3x4"},{label:"4 x 5",value:"is-aspect--4x5"}],onChange:e=>{a({ratio:e})}}),React.createElement(m.FocalPointPicker,{url:o.media_details.sizes.full.source_url,dimensions:{width:o.media_details.sizes.full.width,height:o.media_details.sizes.full.height},value:e.focalPoint,onChange:e=>a({focalPoint:e})})),React.createElement(m.PanelBody,{title:(0,c._x)("Colours","Domain Gutenberg Block Panel Title","sha"),initialOpen:!0},React.createElement("label",{class:"components-base-control__label"},(0,c._x)("Caption colour","Domain Gutenberg Block Panel Label","sha")),React.createElement(m.ColorPalette,{colors:t,value:e.textColor,onChange:e=>a({textColor:e})}),React.createElement(m.RangeControl,{label:(0,c._x)("Text transparency","Range control label","sha"),value:e.textOpacity,onChange:e=>a({textOpacity:e}),min:0,max:100}))),React.createElement("section",{className:`${i} ${e.ratio}`},React.createElement("div",{className:`${s}__inner`},React.createElement("div",{className:`${s}__content`},React.createElement(p.InnerBlocks,{allowedBlocks:["mhm/viewpoint-descendants"],template:[["core/heading",{level:1}],["core/paragraph"],["mhm/viewpoint-ancestors"],["mhm/viewpoint-descendants"]]})),React.createElement("div",{className:`${s}__figurewrap ${e.ratio}`},React.createElement(g,{attributes:e,className:`${s}__figure`,image:e.image,setAttributes:a,objectFocalPoint:e.focalPoint,admin:!0,imageFormat:"full_uncropped"}),React.createElement(p.RichText,{style:n,tagName:"figcaption",className:`${s}__figcaption`,format:"string",allowedFormats:["core/link"],formattingControls:[],placeholder:(0,c._x)("Optional caption","Placeholder text","sha"),multiline:"br",value:e.figcaption,keepPlaceholderOnFocus:!0,onChange:e=>{a({figcaption:e})}})))))}}const M=(0,r.withSelect)(((e,t)=>{let a=[],l=e("core/editor").getEditorSettings().colors;return l&&l.map((e=>{a.push({color:e.color,name:e.name})})),{colors:a}}))(H);(0,l.registerBlockType)("mhm/viewpoint-header",{title:(0,c._x)("Viewpoint header","Block title","sha"),icon:"layout",category:"widgets",keywords:[(0,c._x)("Header","Gutenberg block keyword","sha")],supports:{align:["wide","full"],html:!1,inserter:!0},styles:[{name:"default",label:(0,c._x)("Default","block style","sha"),isDefault:!0},{name:"flipped",label:(0,c._x)("Flipped","block style","sha")}],attributes:{align:{type:"string",default:"full"},focalPoint:{type:"Object",default:{x:.5,y:.5}},image:{type:"Object",default:{id:!1}},ratio:{type:"string",default:"is-aspect--3x2"},figcaption:{type:"string",default:""},textColor:{type:"string",default:""},textOpacity:{type:"Number",default:100}},edit:M,save(e){let{attributes:t}=e,a=(0,l.getBlockDefaultClassName)("mhm/viewpoint-header");const s=(0,l.getBlockDefaultClassName)("mhm/viewpoint-header");let i={opacity:t.textOpacity?t.textOpacity/100:0};return t.textColor&&(i.color=t.textColor),t.image.id&&parseInt(t.image.attributes.width)<parseInt(t.image.attributes.height)&&(a+=` ${a}--tall`),React.createElement("section",{className:a},React.createElement("div",{className:`${s}__inner`},React.createElement("div",{className:`${s}__content`},React.createElement(p.InnerBlocks.Content,null)),!!t.image.id&&React.createElement("div",{className:`${a}__figurewrap ${t.ratio}`},React.createElement(h,{classNameBase:s,image:t.image,focalPoint:t.focalPoint,lazy:!0}),!!t.figcaption&&React.createElement(p.RichText.Content,{style:i,tagName:"figcaption",className:`${s}__figcaption`,value:t.figcaption}))))}}),(0,l.registerBlockType)("mhm/years-online",{title:(0,c._x)("Years online","Block title","sha"),icon:"image-flip-horizontal",category:"widgets",supports:{mode:!1,html:!1,multiple:!0,reusable:!0},edit:class extends u.Component{render(){return React.createElement(m.ServerSideRender,{block:"mhm/years-online"})}},save:()=>null})})()})();